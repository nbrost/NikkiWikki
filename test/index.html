<!DOCTYPE html>
<html>
<head>
    <title>Anniversary Date Generator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff5f5;
            color: #333;
        }
        h1 {
            color: #d23669;
            text-align: center;
        }
        .category-selector {
            margin: 20px 0;
        }
        .filters {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .filter-group {
            margin-bottom: 15px;
        }
        .filter-group h3 {
            margin-bottom: 8px;
            color: #d23669;
        }
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .filter-option {
            padding: 5px 10px;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
        }
        .filter-option.selected {
            background-color: #d23669;
            color: white;
            border-color: #d23669;
        }
        button {
            background-color: #d23669;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
        }
        button:hover {
            background-color: #a51c4a;
        }
        .results {
            display: none;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .result-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .result-item:last-child {
            border-bottom: none;
        }
        .result-category {
            font-weight: bold;
            color: #d23669;
        }
        .result-name {
            font-size: 18px;
            margin: 5px 0;
        }
        .result-description {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Our Anniversary Date Generator</h1>
    
    <div class="category-selector">
        <h2>Select Categories:</h2>
        <div id="categories" class="filter-options"></div>
    </div>
    
    <div class="filters">
        <h2>Filters:</h2>
        <div id="filter-container"></div>
    </div>
    
    <button id="generate-btn">Generate Date Plan</button>
    
    <div id="results" class="results"></div>

    <script>
        // Your JSON data would go here (or loaded from a separate file)
        const dateData = {
            "categories": {
                "dinner": {
                "name": "Dinner",
                "filters": {
                    "time": ["brunch ","lunch", "dinner", "late-night"],
                    "area": ["Downtown", "Whyte Ave", "North", "South", "West"],
                    "price": ["$", "$$", "$$$", "$$$$"],
                    "vibe": ["romantic", "casual", "trendy", "cozy", "upscale"]
                },
                "options": [
                    {
                    "name": "Fu's Repair Shop",
                    "description": "Cocktails, Dumplings, Dim Sum, Noodles and More",
                    "address": ["10524 Jasper Ave, Edmonton, AB T5J 1Z7"],
                    "filters": {
                        "time": ["dinner", "late-night"],
                        "area": ["Downtown"],
                        "price": ["$$$"],
                        "vibe": ["casual", "trendy"]
                    }
                    },
                    {
                    "name": "RGE RD",
                    "description": "Eat off the beaten path. Inspired by feasts in fields, forests, mountains and oceans",
                    "address": ["10643 123 St NW, Edmonton, AB T5N 1P2"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown", "North"],
                        "price": ["$$$$"],
                        "vibe": ["romantic", "upscale"]
                    }
                    },
                    {
                    "name": "Bar Bricco",
                    "description": "An italian wine bar. We offer small plates, handmade pastas and an exclusively Italian wine list",
                    "address": ["10347 Jasper Ave, Edmonton, AB T5J 1Y7"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$"],
                        "vibe": ["romantic", "upscale"]
                    }
                    },
                    {
                    "name": "Little Wolf",
                    "description": "We like making fun, creative, and delicious cuisine to share with you and friends.",
                    "address": ["8424 109 St NW, Edmonton, AB T6G 1E2"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Whyte Ave"],
                        "price": ["$$$"],
                        "vibe": ["trendy", "cozy"]
                    }
                    },
                    {
                    "name": "Partake",
                    "description": "Combining hearty, rustic French cuisine with a cozy & welcoming neighbourhood atmosphere, Partake is a place to revisit old friends and meet new ones.",
                    "address": ["12431 102 Ave NW, Edmonton, AB T5N 0M2"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$"],
                        "vibe": ["romantic", "cozy"]
                    }
                    },
                    {
                    "name": "Bernadette's",
                    "description": "Indigenous plates. Natural Wines. Inspired Cocktails. Kokhum’s Hospitality.",
                    "address": ["10114 104 Street NW, Edmonton, AB T5J 1A7"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$"],
                        "vibe": ["romantic", "trendy", "upscale"]
                    }
                    },
                    {
                    "name": "Olia",
                    "description": "Olia is a warm and inviting Italian restaurant, brought to life by Chef Daniel Costa, Allen Anderl, and our dedicated team. We offer a simple, seasonal menu inspired by the rich culinary traditions of Italy.",
                    "address": ["12016 Jasper Ave, Edmonton, AB T5K 0M5"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$"],
                        "vibe": ["trendy", "upscale"]
                    }
                    },
                    {
                    "name": "MSSM",
                    "description": "You know it, you love it. MSSM is a special place for us for a reason.",
                    "address": ["10111 104 Ave NW #118, Edmonton, AB T5J 0K9"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$$"],
                        "vibe": ["trendy", "cozy"]
                    }
                    },
                    {
                    "name": "Menya Mori",
                    "description": "At Menya Mori, our goal is not just to serve good ramen - we want to create a community of people who love ramen.",
                    "address": ["10350 124 St, Edmonton, AB T5N 1R2"],
                    "filters": {
                        "time": ["dinner", "lunch"],
                        "area": ["Downtown"],
                        "price": ["$$"],
                        "vibe": ["trendy", "casual"]
                    }
                    },
                    {
                    "name": "Kohsaar Grill",
                    "description": "Welcome to KohSaar Grill, where the vibrant flavors of Pakistani cuisine come to life!",
                    "address": ["3535 Gateway Blvd NW, Edmonton, AB T6E 6C8"],
                    "filters": {
                        "time": ["dinner", "lunch"],
                        "area": ["South"],
                        "price": ["$$$"],
                        "vibe": ["casual"]
                    }
                    },
                    {
                    "name": "Rosewood Foods",
                    "description": "Baked goods, breakfast & lunch plus coffee, beer + natural wine⚡️",
                    "address": ["10150 100 St NW #101, Edmonton, AB T5J 0P6"],
                    "filters": {
                        "time": ["brunch", "lunch"],
                        "area": ["Downtown"],
                        "price": ["$$"],
                        "vibe": ["casual","trendy", "cozy"]
                    }
                    },
                    {
                    "name": "Happy & Olive",
                    "description": "(Highly rated brunch) An all day, everyday affair, this is a collaboration between the people that brought you Red Ox Inn, Canteen and The Wired Cup. Our mission is simple—build a community gathering place and serve tasty food properly prepared from locally sourced ingredients, pour great wine and cocktails, make great coffee and present it with impeccable service. ",
                    "address": ["9640 142 St NW, Edmonton, AB T5N 4B2"],
                    "filters": {
                        "time": ["brunch", "lunch", "dinner"],
                        "area": ["West"],
                        "price": ["$$"],
                        "vibe": ["casual","trendy", "cozy"]
                    }
                    },
                    {
                    "name": "Pip",
                    "description": "a BRIGHT, AIRY space in the heart of old strathcona",
                    "address": ["10335 83 Ave NW, Edmonton, AB T6E 2C6"] ,
                    "filters": {
                        "time": ["brunch", "lunch", "dinner"],
                        "area": ["Whyte Ave"],
                        "price": ["$$"],
                        "vibe": ["casual","trendy", "cozy"]
                    }
                    },
                    {
                    "name": "An Chay",
                    "description": "A Delightful Vegan/Vegetarian Vietnamese Restaurant",
                    "address": ["11203 Jasper Ave, Edmonton, AB T5K 0L5"],
                    "filters": {
                        "time": ["lunch", "dinner"],
                        "area": ["Downtown"],
                        "price": ["$$"],
                        "vibe": ["casual"]
                    }
                    },
                    {
                    "name": "Padmanadi",
                    "description": "We're a family-owned, award-winning vegan eatery, proudly serving authentic Indonesian flavours in both Edmonton and Calgary.",
                    "address": ["10740 101 St NW, Edmonton, AB T5H 2S3", "6925 Gateway Blvd NW #106, Edmonton, AB T6H 2J1"],
                    "filters": {
                        "time": ["dinner"],
                        "area": ["Downtown", "South"],
                        "price": ["$$"],
                        "vibe": ["casual"]
                    }
                    },
                    {
                    "name": "The Moth Cafe",
                    "description": "Eclectic vegan fare served in bright, breezy confines with hanging plants & exposed-wood beams.",
                    "address": ["9449 Jasper Ave, Edmonton, AB T5H 3T8"],
                    "filters": {
                        "time": ["brunch", "lunch", "dinner"],
                        "area": ["Downtown"],
                        "price": ["$$"],
                        "vibe": ["casual", "cozy"],
                    }
                    },
                    {
                    "name": "DOSC",
                    "description": "At DOSC, we focus on bringing you the ultimate dining experience. Alongside our A5 Japanese Wagyu, we also source beef from local Alberta farms, some of which are Halal certified. We put an emphasis on sustainability by preferring local vendors for our ingredients. Our culinary team has created a menu perfect for sharing with the family or enjoying an evening out. Come enjoy our love and passion on our plates.",
                    "address": ["10190 104 Street NW, Edmonton, AB T5J 1A7"],
                    "filters": {
                        "time": ["brunch", "dinner"],
                        "area": ["Downtown"],
                        "price": ["$$$$"],
                        "vibe": ["romantic", "upscale"],
                    }
                    }
                    
                ]
                },
                "activity": {
                "name": "Activity",
                "filters": {
                    "time": ["morning", "afternoon", "evening", "anytime"],
                    "area": ["downtown", "midtown", "eastside", "westside", "outdoors"],
                    "type": ["active", "cultural", "relaxing", "adventurous"],
                    "season": ["summer", "winter", "spring", "fall", "any"]
                },
                "options": [
                    {
                    "name": "Art Museum",
                    "description": "Explore the new contemporary art exhibit",
                    "filters": {
                        "time": ["afternoon"],
                        "area": ["midtown"],
                        "type": ["cultural"],
                        "season": ["any"]
                    }
                    },
                    {
                    "name": "Hiking Trail",
                    "description": "Scenic 2-mile hike with waterfall views",
                    "filters": {
                        "time": ["morning", "afternoon"],
                        "area": ["outdoors"],
                        "type": ["active", "adventurous"],
                        "season": ["spring", "summer", "fall"]
                    }
                    }
                ]
                },
                "drinks": {
                "name": "Drinks",
                "filters": {
                    "time": ["morning", "afternoon", "evening", "late-night"],
                    "area": ["Downtown", "Whyte Ave", "South", "North"],
                    "type": ["cocktails", "wine", "beer", "coffee"],
                    "vibe": ["romantic", "lively", "speakeasy", "sports bar", "brewery"],
                    "patio": ["yes", "no"]
                },
                "options": [
                    {
                    "name": "Campio",
                    "description": 'Campio Brewing Co. offers an excellent pre-game or concert dining spot with "amazing food and beer." Guests love the "best pizza in YEG" and "friendly, attentive service." The atmosphere is lively and welcoming, making it a "go-to spot" for both locals and visitors. Reservations recommended for busy nights.',
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails", "beer"],
                        "vibe": ["lively", "brewery"],
                        "patio": ["yes"]
                    }
                    },
                    {
                    "name": "Odd Company Brewing",
                    "description": "Exceptional burgers, with great beer to boot. Whyte location has a great patio",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown", "Whyte Ave"],
                        "type": ["beer"],
                        "vibe": ["brewery"],
                        "patio": ["yes"]
                    }
                    },
                    {
                    "name": "Ale Architect",
                    "description": "Ale Architect brewery and taproom exist in a space where creativity, design, and engineering overlap. A dynamic place for sharing food, drink, conversation, and ideas fuelled by good vibes and positive jams.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Whyte Ave"],
                        "type": ["beer"],
                        "vibe": ["brewery", "lively"],
                        "patio": ["yes"]
                    }
                    },
                    {
                    "name": "Clementine",
                    "description": "Ale Architect brewery and taproom exist in a space where creativity, design, and engineering overlap. A dynamic place for sharing food, drink, conversation, and ideas fuelled by good vibes and positive jams.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["beer", "cocktails"],
                        "vibe": ["speakeasy"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Honi Honi Tiki Lounge",
                    "description": "Honi Honi Tiki Lounge is a tropical escape serving island-inspired cocktails in a vibrant, bamboo-clad paradise.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails"],
                        "vibe": [],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Baijiu & Little Hong Kong",
                    "description": "celebrate with expertly crafted cocktails & asian inspired cuisine - best shared amongst loved ones in a welcoming room that pulsates to the rhythm of old school hip-hop.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails"],
                        "vibe": ["lively", "speakeasy"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Woodwork",
                    "description": "The name WOODWORK pays homage to the intersection of our passions for wood-fired cooking and barrel-aged spirits. The Woodwork kitchen is centred around our custom Grillworks wood-fired grill; while our bar features one of Alberta's most extensive collections of spirits, award-winning cocktails, and a curated list of our favourite wines to pair with grilled cuisine.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails", "beer"],
                        "vibe": ["romantic", "lively"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Fu's Repair Shop",
                    "description": "Cocktails, Dumplings, Dim Sum, Noodles and More",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails"],
                        "vibe": ["lively"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Bar Bricco",
                    "description": "An italian wine bar. We offer small plates, handmade pastas and an exclusively Italian wine list",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["wine"],
                        "vibe": ["lively", "romantic"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "The Red Door",
                    "description": "At 7 pm on Friday and Saturday nights, the long room transforms into The Red Door Room. Fabulous cake, coffee, libations and vittles.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails"],
                        "vibe": ["speakeasy", "romantic"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "DOSC",
                    "description": "At DOSC, we focus on bringing you the ultimate dining experience. Alongside our A5 Japanese Wagyu, we also source beef from local Alberta farms, some of which are Halal certified. We put an emphasis on sustainability by preferring local vendors for our ingredients. Our culinary team has created a menu perfect for sharing with the family or enjoying an evening out. Come enjoy our love and passion on our plates.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails"],
                        "vibe": ["romantic"],
                        "patio": ["no"]
                    }
                    },
                    {
                    "name": "Confederation Lounge",
                    "description": "Delivering the extraordinary since 1915. Located at Fairmont Hotel Macdonald.",
                    "filters": {
                        "time": ["evening", "late-night"],
                        "area": ["Downtown"],
                        "type": ["cocktails", "beer"],
                        "vibe": ["romantic"],
                        "patio": ["no"]
                    }
                    }
                ]
                }
            }
        };

        // DOM elements
        const categoriesContainer = document.getElementById('categories');
        const filterContainer = document.getElementById('filter-container');
        const generateBtn = document.getElementById('generate-btn');
        const resultsContainer = document.getElementById('results');

        // State
        let selectedCategories = [];
        let selectedFilters = {};

        // Initialize the app
        function init() {
            renderCategorySelectors();
            generateBtn.addEventListener('click', generateDatePlan);
        }

        // Render category selection checkboxes
        function renderCategorySelectors() {
            categoriesContainer.innerHTML = '';
            
            for (const [key, category] of Object.entries(dateData.categories)) {
                const div = document.createElement('div');
                div.className = 'filter-option';
                div.textContent = category.name;
                div.dataset.category = key;
                
                div.addEventListener('click', () => {
                    div.classList.toggle('selected');
                    
                    if (div.classList.contains('selected')) {
                        selectedCategories.push(key);
                        renderFilters();
                    } else {
                        selectedCategories = selectedCategories.filter(cat => cat !== key);
                        renderFilters();
                    }
                });
                
                categoriesContainer.appendChild(div);
            }
        }

        // Render filters based on selected categories
        function renderFilters() {
            filterContainer.innerHTML = '';
            selectedFilters = {};
            
            if (selectedCategories.length === 0) return;
            
            // Collect all unique filters from selected categories
            const allFilters = {};
            
            selectedCategories.forEach(catKey => {
                const category = dateData.categories[catKey];
                
                for (const [filterKey, filterOptions] of Object.entries(category.filters)) {
                    if (!allFilters[filterKey]) {
                        allFilters[filterKey] = new Set();
                    }
                    
                    filterOptions.forEach(option => allFilters[filterKey].add(option));
                }
            });
            
            // Render each filter group
            for (const [filterKey, filterOptions] of Object.entries(allFilters)) {
                const filterGroup = document.createElement('div');
                filterGroup.className = 'filter-group';
                
                const title = document.createElement('h3');
                title.textContent = filterKey.charAt(0).toUpperCase() + filterKey.slice(1);
                filterGroup.appendChild(title);
                
                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'filter-options';
                
                Array.from(filterOptions).forEach(option => {
                    const optionEl = document.createElement('div');
                    optionEl.className = 'filter-option';
                    optionEl.textContent = option;
                    optionEl.dataset.filterKey = filterKey;
                    optionEl.dataset.option = option;
                    
                    optionEl.addEventListener('click', () => {
                        optionEl.classList.toggle('selected');
                        
                        if (!selectedFilters[filterKey]) {
                            selectedFilters[filterKey] = new Set();
                        }
                        
                        if (optionEl.classList.contains('selected')) {
                            selectedFilters[filterKey].add(option);
                        } else {
                            selectedFilters[filterKey].delete(option);
                            
                            if (selectedFilters[filterKey].size === 0) {
                                delete selectedFilters[filterKey];
                            }
                        }
                    });
                    
                    optionsContainer.appendChild(optionEl);
                });
                
                filterGroup.appendChild(optionsContainer);
                filterContainer.appendChild(filterGroup);
            }
        }

        // Generate a date plan based on selections
        function generateDatePlan() {
            resultsContainer.style.display = 'none';
            resultsContainer.innerHTML = '';
            
            if (selectedCategories.length === 0) {
                alert('Please select at least one category');
                return;
            }
            
            const results = [];
            
            selectedCategories.forEach(catKey => {
                const category = dateData.categories[catKey];
                let eligibleOptions = [...category.options];
                
                // Apply filters
                for (const [filterKey, selectedOptions] of Object.entries(selectedFilters)) {
                    eligibleOptions = eligibleOptions.filter(option => {
                        // If the option doesn't have this filter, skip it
                        if (!option.filters[filterKey]) return true;
                        
                        // Check if any of the selected options match the option's filters
                        return Array.from(selectedOptions).some(selectedOption => 
                            option.filters[filterKey].includes(selectedOption)
                        );
                    });
                }
                
                if (eligibleOptions.length > 0) {
                    // Randomly select one
                    const selectedOption = eligibleOptions[Math.floor(Math.random() * eligibleOptions.length)];
                    if (selectedOption.address) {
                        selectedOption.address = Array.isArray(selectedOption.address) ? selectedOption.address : [selectedOption.address];
                    } else {
                        selectedOption.address = [];
                    }
                    results.push({
                        category: category.name,
                        name: selectedOption.name,
                        description: selectedOption.description,
                        address: selectedOption.address
                    });
                }
            });
            
            if (results.length === 0) {
                resultsContainer.innerHTML = '<p>No options match your filters. Try being less specific!</p>';
            } else {
                results.forEach(result => {
                    const resultEl = document.createElement('div');
                    resultEl.className = 'result-item';
                    
                    const categoryEl = document.createElement('div');
                    categoryEl.className = 'result-category';
                    categoryEl.textContent = result.category;
                    
                    const nameEl = document.createElement('div');
                    nameEl.className = 'result-name';
                    nameEl.textContent = result.name;
                    
                    const descEl = document.createElement('div');
                    descEl.className = 'result-description';
                    descEl.textContent = result.description;

                    resultEl.appendChild(categoryEl);
                    resultEl.appendChild(nameEl);
                    resultEl.appendChild(descEl);

                    if (result.address) {
                        for (const address of result.address) {
                            const addressEl = document.createElement('div');
                            addressEl.className = 'result-address';
                            addressEl.textContent = address;
                            resultEl.appendChild(addressEl);
                        }
                    }
                    
                    resultsContainer.appendChild(resultEl);
                });
            }
            
            resultsContainer.style.display = 'block';
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>